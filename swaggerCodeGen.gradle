apply plugin: 'org.hidetake.swagger.generator'
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}


dependencies {
    // Add dependency for Swagger Codegen CLI
    swaggerCodegen 'io.swagger.codegen.v3:swagger-codegen-cli:3.0.61'

}
swaggerSources {
    model {
        inputFile = file("${rootProject.projectDir}/specifications/swagger.yaml")
        code {
            language = 'spring'
            additionalProperties = [
                    "modelPackage"     : "eu.xenit.actuators.model.gen",
                    "serializableModel": "true",
                    "jakarta": "true"
            ]
            // Only generate model:
            components = ['models']
        }
    }

}
compileJava.dependsOn generateSwaggerCodeModel
sourceSets {
    main {
        java {
            srcDirs = ["src/main/java", "$generateSwaggerCodeModel.outputDir/src/main/java"]
        }
    }
}
